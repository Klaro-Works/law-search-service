# RAG ì±—ë´‡ ì„œë¹„ìŠ¤ ì„¤ê³„ ë¬¸ì„œ

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

### ëª©í‘œ
ê´€ë¦¬ì í™”ë©´ì—ì„œ ì„¤ì • ê°€ëŠ¥í•œ **ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥í•œ RAG ì±—ë´‡ ì„œë¹„ìŠ¤**ë¥¼ ê°œë°œí•©ë‹ˆë‹¤.

### í•µì‹¬ ìš”êµ¬ì‚¬í•­
1. **ê´€ë¦¬ì ì„¤ì •**: ë‹¤ì–‘í•œ RAG íŒŒë¼ë¯¸í„°ë¥¼ ì›¹ UIì—ì„œ ì„¤ì •
2. **ë™ì  ì»¤ìŠ¤í„°ë§ˆì´ì§•**: ì„¤ì •ì— ë”°ë¼ ì±—ë´‡ ë™ì‘ ë³€ê²½
3. **ì €ì¥ ë° ë²„ì „ ê´€ë¦¬**: ì„¤ì •ì„ ì €ì¥í•˜ê³  ë²„ì „ ê´€ë¦¬
4. **ë°°í¬**: ì„¤ì •ëœ ì±—ë´‡ì„ API ì—”ë“œí¬ì¸íŠ¸ë¡œ ë°°í¬
5. **Agno ê¸°ë°˜**: Assistant/AgentëŠ” agno í”„ë ˆì„ì›Œí¬ë¡œ ê°œë°œ

### Agno ì°¸ê³ 
- **íŒ€ ê³µìš© ìš”ì•½**: `Agno-ë ˆí¼ëŸ°ìŠ¤.md`
- **ê³µì‹ ë¬¸ì„œ(ì†Œê°œ)**: [docs.agno.com/introduction](https://docs.agno.com/introduction)

---

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Klaro-Hub Frontend                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  RAG ì±—ë´‡ ê´€ë¦¬ í™”ë©´ (Admin UI)                          â”‚    â”‚
â”‚  â”‚  - ì±—ë´‡ ìƒì„±/í¸ì§‘/ì‚­ì œ                                    â”‚    â”‚
â”‚  â”‚  - RAG íŒŒë¼ë¯¸í„° ì„¤ì •                                      â”‚    â”‚
â”‚  â”‚  - í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ í¸ì§‘                                   â”‚    â”‚
â”‚  â”‚  - í…ŒìŠ¤íŠ¸/ë¯¸ë¦¬ë³´ê¸°                                        â”‚    â”‚
â”‚  â”‚  - ë°°í¬ ê´€ë¦¬                                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ HTTPS/JSON
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Root API Gateway                              â”‚
â”‚  - ì¸ì¦/ì¸ê°€                                                     â”‚
â”‚  - í…Œë„ŒíŠ¸ ì»¨í…ìŠ¤íŠ¸ í™•ì •                                          â”‚
â”‚  - ë¼ìš°íŒ…                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ gRPC
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              RAG ì±—ë´‡ ê´€ë¦¬ ì„œë¹„ìŠ¤ (Management Service)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Configuration Manager                                   â”‚   â”‚
â”‚  â”‚  - ì±—ë´‡ ì„¤ì • CRUD                                        â”‚   â”‚
â”‚  â”‚  - ë²„ì „ ê´€ë¦¬                                              â”‚   â”‚
â”‚  â”‚  - ë°°í¬ ìƒíƒœ ê´€ë¦¬                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Deployment Manager                                      â”‚   â”‚
â”‚  â”‚  - ì±—ë´‡ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±/ì‚­ì œ                                â”‚   â”‚
â”‚  â”‚  - ì—”ë“œí¬ì¸íŠ¸ í• ë‹¹                                        â”‚   â”‚
â”‚  â”‚  - ë¡œë“œ ë°¸ëŸ°ì‹±                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ Deploy/Update
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           RAG ì±—ë´‡ ëŸ°íƒ€ì„ ì„œë¹„ìŠ¤ (Runtime Service)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Agno-based RAG Agent                                    â”‚   â”‚
â”‚  â”‚  - Query Processing                                      â”‚   â”‚
â”‚  â”‚  - Retrieval (Vector Search)                             â”‚   â”‚
â”‚  â”‚  - Generation (LLM)                                      â”‚   â”‚
â”‚  â”‚  - Response Formatting                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Vector Store â”‚ â”‚ Integration â”‚ â”‚ Document DB  â”‚
    â”‚  (Pinecone/  â”‚ â”‚    Hub      â”‚ â”‚ (Metadata)   â”‚
    â”‚   Weaviate)  â”‚ â”‚ (ì™¸ë¶€ AI)   â”‚ â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ RAG ì±—ë´‡ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•­ëª©

### 1. ê¸°ë³¸ ì„¤ì •
```typescript
interface BasicConfig {
  chatbotId: string;
  chatbotName: string;
  description: string;
  version: string;
  tenantId: string;
  createdBy: string;
  status: 'draft' | 'testing' | 'deployed' | 'archived';
}
```

### 2. Retrieval ì„¤ì •
```typescript
interface RetrievalConfig {
  // Vector Store
  vectorStore: 'pinecone' | 'weaviate' | 'qdrant' | 'milvus';
  indexName: string;
  embeddingModel: 'openai/text-embedding-3-small' | 'openai/text-embedding-3-large' | 'cohere/embed-multilingual-v3.0';
  
  // Search Parameters
  topK: number; // ê²€ìƒ‰ ê²°ê³¼ ê°œìˆ˜ (1-20)
  similarityThreshold: number; // ìœ ì‚¬ë„ ì„ê³„ê°’ (0-1)
  searchType: 'similarity' | 'mmr' | 'hybrid';
  
  // MMR (Maximum Marginal Relevance) ì„¤ì •
  mmrDiversityBias?: number; // 0-1 (0: ê´€ë ¨ì„± ìš°ì„ , 1: ë‹¤ì–‘ì„± ìš°ì„ )
  
  // Reranking
  useReranking: boolean;
  rerankingModel?: 'cohere/rerank-multilingual-v3.0' | 'custom';
  
  // Metadata Filtering
  metadataFilters?: Record<string, any>;
}
```

### 3. Generation ì„¤ì •
```typescript
interface GenerationConfig {
  // LLM Model
  llmProvider: 'openai' | 'anthropic' | 'cohere' | 'custom';
  modelName: string; // 'gpt-4o', 'claude-3-5-sonnet', etc.
  
  // Generation Parameters
  temperature: number; // 0-2
  maxTokens: number; // 100-4096
  topP: number; // 0-1
  frequencyPenalty: number; // 0-2
  presencePenalty: number; // 0-2
  
  // Streaming
  streaming: boolean;
  
  // Safety
  contentFilter: boolean;
  piiDetection: boolean;
}
```

### 4. í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
```typescript
interface PromptTemplate {
  // System Prompt
  systemPrompt: string;
  
  // RAG Prompt Template
  ragTemplate: string; // ì˜ˆ: "ì»¨í…ìŠ¤íŠ¸: {context}\n\nì§ˆë¬¸: {query}\n\në‹µë³€:"
  
  // Variables
  customVariables?: Record<string, string>;
  
  // Few-shot Examples
  fewShotExamples?: Array<{
    query: string;
    context: string;
    response: string;
  }>;
}
```

### 5. ëŒ€í™” ì„¤ì •
```typescript
interface ConversationConfig {
  // History Management
  maxHistoryLength: number; // ëŒ€í™” íˆìŠ¤í† ë¦¬ ìµœëŒ€ ê¸¸ì´
  includeHistory: boolean;
  
  // Context Window
  contextWindowSize: number; // í† í° ìˆ˜
  
  // Session Management
  sessionTimeout: number; // ì´ˆ ë‹¨ìœ„
}
```

### 6. í›„ì²˜ë¦¬ ì„¤ì •
```typescript
interface PostProcessingConfig {
  // Citation
  includeCitations: boolean;
  citationFormat: 'inline' | 'footnote' | 'none';
  
  // Source Filtering
  minSourceQuality: number; // 0-1
  
  // Response Formatting
  responseFormat: 'text' | 'markdown' | 'json';
  
  // Guardrails
  toxicityFilter: boolean;
  factCheckEnabled: boolean;
}
```

### 7. ë°°í¬ ì„¤ì •
```typescript
interface DeploymentConfig {
  // Endpoint
  endpointPath: string; // ì˜ˆ: "/api/v1/chatbot/customer-support"
  customDomain?: string;
  
  // Rate Limiting
  rateLimitPerMinute: number;
  rateLimitPerDay: number;
  
  // Monitoring
  loggingLevel: 'debug' | 'info' | 'warn' | 'error';
  enableAnalytics: boolean;
  
  // Scaling
  minInstances: number;
  maxInstances: number;
  autoScaling: boolean;
}
```

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

### Backend (Management Service)
- **ì–¸ì–´**: Java 17+ (Spring Boot 3.x)
- **í”„ë ˆì„ì›Œí¬**: Spring Cloud, Spring Data JPA
- **API**: gRPC (ë‚´ë¶€), REST (ì™¸ë¶€)
- **ë°ì´í„°ë² ì´ìŠ¤**: PostgreSQL (ì„¤ì • ì €ì¥)
- **ìºì‹œ**: Redis (ì„¤ì • ìºì‹±)
- **ë©”ì‹œì§€ í**: Kafka (ì´ë²¤íŠ¸ ë°œí–‰)

### Backend (Runtime Service)
- **ì–¸ì–´**: Python 3.11+
- **í”„ë ˆì„ì›Œí¬**: **Agno** (Agent/Assistant ê°œë°œ)
- **ì›¹ í”„ë ˆì„ì›Œí¬**: FastAPI
- **ë¹„ë™ê¸°**: asyncio, aiohttp
- **ë²¡í„° DB í´ë¼ì´ì–¸íŠ¸**: Pinecone, Weaviate, Qdrant
- **LLM í†µí•©**: LangChain, LlamaIndex (ì„ íƒì )

### Frontend
- **í”„ë ˆì„ì›Œí¬**: React + TypeScript
- **UI ë¼ì´ë¸ŒëŸ¬ë¦¬**: shadcn/ui, Tailwind CSS
- **ìƒíƒœ ê´€ë¦¬**: Zustand or Jotai
- **í¼ ê´€ë¦¬**: React Hook Form + Zod
- **ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°**: React Query + WebSocket

### Infrastructure
- **ì»¨í…Œì´ë„ˆ**: Docker, Kubernetes (ì„ íƒì )
- **API Gateway**: Nginx, Kong (ì„ íƒì )
- **ëª¨ë‹ˆí„°ë§**: Prometheus, Grafana
- **ë¡œê¹…**: ELK Stack (Elasticsearch, Logstash, Kibana)

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
klaro-rag-chatbot/
â”œâ”€â”€ management-service/              # Java ê¸°ë°˜ ê´€ë¦¬ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ com/klaro/rag/management/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ controller/        # REST/gRPC Controllers
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ service/           # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ repository/        # ë°ì´í„° ì ‘ê·¼ ë ˆì´ì–´
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ entity/            # JPA ì—”í‹°í‹°
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ dto/               # DTO í´ë˜ìŠ¤
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ config/            # ì„¤ì • í´ë˜ìŠ¤
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ event/             # ì´ë²¤íŠ¸ ë°œí–‰/ì²˜ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚   â”‚       â”œâ”€â”€ application.yml
â”‚   â”‚   â”‚       â””â”€â”€ db/migration/          # Flyway ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”‚   â””â”€â”€ test/
â”‚   â”œâ”€â”€ build.gradle
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ runtime-service/                 # Python + Agno ê¸°ë°˜ ëŸ°íƒ€ì„ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ agents/                  # Agno ê¸°ë°˜ Agent ì •ì˜
â”‚   â”‚   â”‚   â”œâ”€â”€ rag_agent.py         # ë©”ì¸ RAG Agent
â”‚   â”‚   â”‚   â”œâ”€â”€ retrieval_agent.py   # Retrieval ì „ë¬¸ Agent
â”‚   â”‚   â”‚   â””â”€â”€ generation_agent.py  # Generation ì „ë¬¸ Agent
â”‚   â”‚   â”œâ”€â”€ api/                     # FastAPI ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat.py          # ì±—ë´‡ API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ health.py        # Health check
â”‚   â”‚   â”‚   â””â”€â”€ dependencies.py      # ì˜ì¡´ì„± ì£¼ì…
â”‚   â”‚   â”œâ”€â”€ core/                    # í•µì‹¬ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py            # ì„¤ì • ë¡œë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ retriever.py         # ë²¡í„° ê²€ìƒ‰
â”‚   â”‚   â”‚   â”œâ”€â”€ generator.py         # LLM ìƒì„±
â”‚   â”‚   â”‚   â””â”€â”€ prompt.py            # í”„ë¡¬í”„íŠ¸ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ integrations/            # ì™¸ë¶€ ì—°ë™
â”‚   â”‚   â”‚   â”œâ”€â”€ vector_stores/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ pinecone.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ weaviate.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ qdrant.py
â”‚   â”‚   â”‚   â””â”€â”€ llm_providers/
â”‚   â”‚   â”‚       â”œâ”€â”€ openai.py
â”‚   â”‚   â”‚       â””â”€â”€ anthropic.py
â”‚   â”‚   â”œâ”€â”€ models/                  # Pydantic ëª¨ë¸
â”‚   â”‚   â”‚   â”œâ”€â”€ request.py
â”‚   â”‚   â”‚   â”œâ”€â”€ response.py
â”‚   â”‚   â”‚   â””â”€â”€ config.py
â”‚   â”‚   â”œâ”€â”€ utils/                   # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”‚   â”œâ”€â”€ logger.py
â”‚   â”‚   â”‚   â””â”€â”€ metrics.py
â”‚   â”‚   â””â”€â”€ main.py                  # FastAPI ì•± ì§„ì…ì 
â”‚   â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ pyproject.toml
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ frontend/                        # React ê¸°ë°˜ ê´€ë¦¬ UI
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â””â”€â”€ rag-chatbot/
â”‚   â”‚   â”‚       â”œâ”€â”€ ChatbotList.tsx          # ì±—ë´‡ ëª©ë¡
â”‚   â”‚   â”‚       â”œâ”€â”€ ChatbotCreate.tsx        # ì±—ë´‡ ìƒì„±
â”‚   â”‚   â”‚       â”œâ”€â”€ ChatbotEdit.tsx          # ì±—ë´‡ í¸ì§‘
â”‚   â”‚   â”‚       â””â”€â”€ ChatbotDeploy.tsx        # ë°°í¬ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â””â”€â”€ rag-chatbot/
â”‚   â”‚   â”‚       â”œâ”€â”€ ConfigEditor/            # ì„¤ì • í¸ì§‘ê¸°
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ BasicConfig.tsx
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ RetrievalConfig.tsx
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ GenerationConfig.tsx
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ PromptEditor.tsx
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ DeploymentConfig.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ ChatPreview/             # ì±„íŒ… ë¯¸ë¦¬ë³´ê¸°
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ChatInterface.tsx
â”‚   â”‚   â”‚       â””â”€â”€ VersionHistory/          # ë²„ì „ ê´€ë¦¬
â”‚   â”‚   â”‚           â””â”€â”€ VersionList.tsx
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â””â”€â”€ useRagChatbot.ts
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ ragChatbotApi.ts
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚       â””â”€â”€ ragChatbot.ts
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ proto/                           # gRPC Protocol Buffers
â”‚   â”œâ”€â”€ rag_chatbot_management.proto
â”‚   â””â”€â”€ rag_chatbot_runtime.proto
â”‚
â”œâ”€â”€ infrastructure/                  # ì¸í”„ë¼ ì„¤ì •
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”œâ”€â”€ kubernetes/
â”‚   â”‚   â”œâ”€â”€ management-service.yaml
â”‚   â”‚   â”œâ”€â”€ runtime-service.yaml
â”‚   â”‚   â””â”€â”€ ingress.yaml
â”‚   â””â”€â”€ terraform/                   # ì„ íƒì 
â”‚
â””â”€â”€ docs/                            # ë¬¸ì„œ
    â”œâ”€â”€ API.md
    â”œâ”€â”€ DEPLOYMENT.md
    â””â”€â”€ CONFIGURATION.md
```

---

## ğŸ”„ ì›Œí¬í”Œë¡œìš°: ì„¤ì • â†’ ë°°í¬

### 1ï¸âƒ£ ì±—ë´‡ ìƒì„± ë° ì„¤ì •
```
ì‚¬ìš©ì (ê´€ë¦¬ì)
  â†“
[Frontend: ì±—ë´‡ ìƒì„± í¼]
  â†“ POST /api/v1/chatbots
[Management Service]
  â†“ ë°ì´í„° ê²€ì¦
  â†“ ì„¤ì • ì €ì¥ (PostgreSQL)
  â†“ ìƒíƒœ: 'draft'
  â†“
[Frontend: ì„¤ì • ì™„ë£Œ]
```

### 2ï¸âƒ£ ì„¤ì • ì»¤ìŠ¤í„°ë§ˆì´ì§•
```
ì‚¬ìš©ì (ê´€ë¦¬ì)
  â†“
[Frontend: ì„¤ì • í¸ì§‘ê¸°]
  - Retrieval íŒŒë¼ë¯¸í„° ì¡°ì •
  - LLM ëª¨ë¸ ì„ íƒ
  - í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ì‘ì„±
  - í›„ì²˜ë¦¬ ì˜µì…˜ ì„¤ì •
  â†“ PATCH /api/v1/chatbots/{id}/config
[Management Service]
  â†“ ì„¤ì • ì—…ë°ì´íŠ¸
  â†“ ë²„ì „ ì¦ê°€
  â†“ ë³€ê²½ ì´ë ¥ ì €ì¥
```

### 3ï¸âƒ£ í…ŒìŠ¤íŠ¸ ë° ë¯¸ë¦¬ë³´ê¸°
```
ì‚¬ìš©ì (ê´€ë¦¬ì)
  â†“
[Frontend: ì±„íŒ… ë¯¸ë¦¬ë³´ê¸°]
  â†“ POST /api/v1/chatbots/{id}/test
[Management Service]
  â†“ ì„ì‹œ ëŸ°íƒ€ì„ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
  â†“ ì„¤ì • ì£¼ì…
  â†“
[Runtime Service: Test Mode]
  â†“ Agno Agent ì´ˆê¸°í™”
  â†“ ì¿¼ë¦¬ ì²˜ë¦¬
  â†“ ì‘ë‹µ ë°˜í™˜
  â†“
[Frontend: ê²°ê³¼ í‘œì‹œ]
```

### 4ï¸âƒ£ ë°°í¬
```
ì‚¬ìš©ì (ê´€ë¦¬ì)
  â†“ "ë°°í¬" ë²„íŠ¼ í´ë¦­
[Frontend]
  â†“ POST /api/v1/chatbots/{id}/deploy
[Management Service: Deployment Manager]
  â†“ ì„¤ì • ê²€ì¦
  â†“ ìƒíƒœ ë³€ê²½: 'deployed'
  â†“ Kafka ì´ë²¤íŠ¸ ë°œí–‰: "ChatbotDeployRequested"
  â†“
[Runtime Service Orchestrator]
  â†“ ì´ë²¤íŠ¸ ìˆ˜ì‹ 
  â†“ Docker ì»¨í…Œì´ë„ˆ ìƒì„± (ë˜ëŠ” K8s Pod)
  â†“ í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì • ì£¼ì…
  â†“ Agno Agent ì¸ìŠ¤í„´ìŠ¤í™”
  â†“ API ì—”ë“œí¬ì¸íŠ¸ í™œì„±í™”
  â†“ í—¬ìŠ¤ ì²´í¬
  â†“
[Management Service]
  â†“ ì—”ë“œí¬ì¸íŠ¸ URL ì—…ë°ì´íŠ¸
  â†“ ìƒíƒœ ë³€ê²½: 'running'
  â†“
[Frontend: ë°°í¬ ì™„ë£Œ ì•Œë¦¼]
```

### 5ï¸âƒ£ ìš´ì˜ ì¤‘ ì—…ë°ì´íŠ¸
```
ì‚¬ìš©ì (ê´€ë¦¬ì)
  â†“ ì„¤ì • ë³€ê²½ í›„ "ì¬ë°°í¬"
[Management Service]
  â†“ ë¸”ë£¨-ê·¸ë¦° ë°°í¬ or ë¡¤ë§ ì—…ë°ì´íŠ¸
  â†“ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘
  â†“ íŠ¸ë˜í”½ ì „í™˜
  â†“ êµ¬ ì¸ìŠ¤í„´ìŠ¤ ì¢…ë£Œ
```

---

## ğŸš€ êµ¬í˜„ ë‹¨ê³„ë³„ ê³„íš

### Phase 1: ê¸°ë°˜ êµ¬ì¶• (1-2ì£¼)
- [ ] í”„ë¡œì íŠ¸ ë ˆí¬ì§€í† ë¦¬ ì´ˆê¸°í™”
- [ ] Management Service ê¸°ë³¸ êµ¬ì¡° (Spring Boot)
- [ ] Runtime Service ê¸°ë³¸ êµ¬ì¡° (FastAPI + Agno)
- [ ] PostgreSQL ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë° ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] gRPC Proto íŒŒì¼ ì •ì˜
- [ ] Docker Compose ê°œë°œ í™˜ê²½ êµ¬ì„±

### Phase 2: ì„¤ì • ê´€ë¦¬ (1ì£¼)
- [ ] ì±—ë´‡ CRUD API êµ¬í˜„
- [ ] ì„¤ì • ì €ì¥/ë¡œë“œ ë¡œì§
- [ ] ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ
- [ ] Frontend: ì±—ë´‡ ëª©ë¡ í˜ì´ì§€
- [ ] Frontend: ì±—ë´‡ ìƒì„± í¼

### Phase 3: ì„¤ì • UI (2ì£¼)
- [ ] Frontend: Retrieval ì„¤ì • í¸ì§‘ê¸°
- [ ] Frontend: Generation ì„¤ì • í¸ì§‘ê¸°
- [ ] Frontend: í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ í¸ì§‘ê¸°
- [ ] Frontend: ë°°í¬ ì„¤ì • í¸ì§‘ê¸°
- [ ] ì„¤ì • ê²€ì¦ ë¡œì§ (í”„ë¡ íŠ¸/ë°±ì—”ë“œ)

### Phase 4: Agno ê¸°ë°˜ RAG Agent (2-3ì£¼)
- [ ] Agno í”„ë ˆì„ì›Œí¬ ì—°êµ¬ ë° PoC
- [ ] Retrieval Agent êµ¬í˜„
  - ë²¡í„° ìŠ¤í† ì–´ ì—°ë™ (Pinecone/Weaviate)
  - ì„ë² ë”© ìƒì„±
  - ìœ ì‚¬ë„ ê²€ìƒ‰
- [ ] Generation Agent êµ¬í˜„
  - LLM ì—°ë™ (Integration Hub í†µí•´)
  - í”„ë¡¬í”„íŠ¸ ì¡°ë¦½
  - ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ
- [ ] RAG Agent ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
  - Retrieval â†’ Generation íŒŒì´í”„ë¼ì¸
  - ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
  - ëŒ€í™” íˆìŠ¤í† ë¦¬ ì²˜ë¦¬

### Phase 5: ë°°í¬ ì‹œìŠ¤í…œ (2ì£¼)
- [ ] Deployment Manager êµ¬í˜„
- [ ] Kafka ì´ë²¤íŠ¸ ê¸°ë°˜ ë°°í¬ íŠ¸ë¦¬ê±°
- [ ] ëŸ°íƒ€ì„ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±/ê´€ë¦¬
- [ ] ì—”ë“œí¬ì¸íŠ¸ ë¼ìš°íŒ… ì„¤ì •
- [ ] í—¬ìŠ¤ ì²´í¬ ë° ëª¨ë‹ˆí„°ë§
- [ ] Frontend: ë°°í¬ ìƒíƒœ ëŒ€ì‹œë³´ë“œ

### Phase 6: í…ŒìŠ¤íŠ¸ ë° ë¯¸ë¦¬ë³´ê¸° (1ì£¼)
- [ ] í…ŒìŠ¤íŠ¸ ëª¨ë“œ êµ¬í˜„
- [ ] Frontend: ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ (ë¯¸ë¦¬ë³´ê¸°)
- [ ] WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ì‘ë‹µ
- [ ] í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì €ì¥ ë° ë¶„ì„

### Phase 7: í†µí•© ë° ìµœì í™” (1-2ì£¼)
- [ ] End-to-End í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥ ìµœì í™”
  - ìºì‹± ì „ëµ
  - ì»¤ë„¥ì…˜ í’€ë§
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”
- [ ] ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§ í†µí•©
- [ ] ë¬¸ì„œ ì‘ì„±

### Phase 8: ê³ ê¸‰ ê¸°ëŠ¥ (ì„ íƒì , 2ì£¼)
- [ ] A/B í…ŒìŠ¤íŠ¸ ì§€ì›
- [ ] ë¶„ì„ ëŒ€ì‹œë³´ë“œ
  - ì¿¼ë¦¬ í†µê³„
  - ì‘ë‹µ í’ˆì§ˆ ë©”íŠ¸ë¦­
- [ ] ìë™ íŠœë‹ (AutoML)
- [ ] ë©€í‹°ëª¨ë‹¬ ì§€ì› (ì´ë¯¸ì§€, ìŒì„±)

---

## ğŸ” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. ì¸ì¦/ì¸ê°€
- ëª¨ë“  APIëŠ” ë£¨íŠ¸ ê²Œì´íŠ¸ì›¨ì´ë¥¼ í†µí•´ ì¸ì¦
- í…Œë„ŒíŠ¸ ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ê²©ë¦¬
- ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (RBAC)

### 2. ë°ì´í„° ë³´ì•ˆ
- ë¯¼ê°í•œ ì„¤ì • ì •ë³´ ì•”í˜¸í™” (ì˜ˆ: API í‚¤)
- ì „ì†¡ ì¤‘ ì•”í˜¸í™” (TLS)
- ì €ì¥ ì‹œ ì•”í˜¸í™” (at-rest encryption)

### 3. API ë³´ì•ˆ
- Rate Limiting (ê³¼ê¸ˆ ì‹œìŠ¤í…œê³¼ ì—°ë™)
- Input Validation
- SQL Injection ë°©ì§€
- XSS ë°©ì§€

---

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ê´€ì°°

### ë©”íŠ¸ë¦­
- ìš”ì²­ ìˆ˜, ì‘ë‹µ ì‹œê°„ (p50, p95, p99)
- ì—ëŸ¬ìœ¨
- í† í° ì‚¬ìš©ëŸ‰
- ë²¡í„° ê²€ìƒ‰ ë ˆì´í„´ì‹œ
- LLM í˜¸ì¶œ ë ˆì´í„´ì‹œ

### ë¡œê·¸
- êµ¬ì¡°í™”ëœ ë¡œê·¸ (JSON)
- ìš”ì²­/ì‘ë‹µ ë¡œê·¸
- ì—ëŸ¬ ë¡œê·¸
- ê°ì‚¬ ë¡œê·¸ (ì„¤ì • ë³€ê²½)

### ì•Œë¦¼
- ì—ëŸ¬ìœ¨ ì„ê³„ê°’ ì´ˆê³¼
- ì‘ë‹µ ì‹œê°„ ì§€ì—°
- ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ê³¼ë‹¤

---

## ğŸ’° ë¹„ìš© ìµœì í™”

### 1. ìºì‹±
- ì„ë² ë”© ìºì‹± (ë™ì¼ ì¿¼ë¦¬)
- LLM ì‘ë‹µ ìºì‹± (ìì£¼ ë¬»ëŠ” ì§ˆë¬¸)
- ì„¤ì • ìºì‹± (Redis)

### 2. ë°°ì¹˜ ì²˜ë¦¬
- ì„ë² ë”© ë°°ì¹˜ ìƒì„±
- ë²¡í„° ê²€ìƒ‰ ë°°ì¹˜ ì²˜ë¦¬

### 3. ë¦¬ì†ŒìŠ¤ ê´€ë¦¬
- Auto-scaling (íŠ¸ë˜í”½ ê¸°ë°˜)
- Idle ì¸ìŠ¤í„´ìŠ¤ ì¢…ë£Œ
- ì €ë ´í•œ ì„ë² ë”© ëª¨ë¸ ì‚¬ìš© (ì˜µì…˜)

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- ê° ì»´í¬ë„ŒíŠ¸ë³„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- Mockì„ í™œìš©í•œ ê²©ë¦¬ í…ŒìŠ¤íŠ¸

### í†µí•© í…ŒìŠ¤íŠ¸
- Management â†” Runtime í†µí•© í…ŒìŠ¤íŠ¸
- ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™ í…ŒìŠ¤íŠ¸ (Testcontainers)

### E2E í…ŒìŠ¤íŠ¸
- ì „ì²´ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- ë°°í¬ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

### ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
- ë¶€í•˜ í…ŒìŠ¤íŠ¸ (Locust, k6)
- ë²¤ì¹˜ë§ˆí‚¹ (ì‘ë‹µ ì‹œê°„, ì²˜ë¦¬ëŸ‰)

---

## ğŸ“š ì°¸ê³  ìë£Œ

### Agno Framework
- ê³µì‹ ë¬¸ì„œ (ì˜ˆì •)
- ì˜ˆì œ ì½”ë“œ (ì˜ˆì •)

### RAG íŒ¨í„´
- LangChain RAG ê°€ì´ë“œ
- LlamaIndex RAG íŒ¨í„´

### ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤
- Pinecone Documentation
- Weaviate Documentation
- Qdrant Documentation

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

1. **Agno í”„ë ˆì„ì›Œí¬ ì¡°ì‚¬**: ì •í™•í•œ API ë° ì‚¬ìš© íŒ¨í„´ íŒŒì•…
2. **PoC ê°œë°œ**: ê°„ë‹¨í•œ RAG ì±—ë´‡ í”„ë¡œí† íƒ€ì… (Agno ê¸°ë°˜)
3. **Management Service ìŠ¤ì¼ˆë ˆí†¤**: ê¸°ë³¸ CRUD API
4. **Frontend í”„ë¡œí† íƒ€ì…**: ê¸°ë³¸ ì„¤ì • UI

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì°©ìˆ˜ ì „ í™•ì¸ì‚¬í•­
- [ ] Agno í”„ë ˆì„ì›Œí¬ ë¼ì´ì„ ìŠ¤ í™•ì¸
- [ ] ë²¡í„° DB ì„ íƒ (Pinecone vs Weaviate vs Qdrant)
- [ ] LLM ì œê³µì ê²°ì • (Integration Hub ì—°ë™ í™•ì¸)
- [ ] ê°œë°œ í™˜ê²½ ì…‹ì—… (Java 17, Python 3.11, Docker)
- [ ] íŒ€ì› ì—­í•  ë¶„ë‹´ (Backend, Frontend, DevOps)

### ê¸°ìˆ  ê²€ì¦
- [ ] Agno + FastAPI í†µí•© ê°€ëŠ¥ì„±
- [ ] gRPC vs REST ì„±ëŠ¥ ë¹„êµ
- [ ] Kafka vs RabbitMQ ì„ íƒ
- [ ] ë²¡í„° DB ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬

---

## ğŸ’¬ ì§ˆë¬¸ ë° ì´ìŠˆ

1. **Agno í”„ë ˆì„ì›Œí¬ ìƒì„¸**: ì •í™•í•œ API ë° ë¬¸ì„œ ìœ„ì¹˜?
2. **Integration Hub ì—°ë™**: í˜„ì¬ êµ¬í˜„ ìƒíƒœ ë° API ìŠ¤í™?
3. **ê³¼ê¸ˆ ì‹œìŠ¤í…œ ì—°ë™**: RAG ì±—ë´‡ì˜ í† í° ì‚¬ìš©ëŸ‰ ê³„ì¸¡ ë°©ë²•?
4. **ë©€í‹° í…Œë„Œì‹œ**: ë²¡í„° ìŠ¤í† ì–´ ê²©ë¦¬ ì „ëµ (ì¸ë±ìŠ¤ ë¶„ë¦¬ vs ë©”íƒ€ë°ì´í„° í•„í„°ë§)?
5. **ë°°í¬ í™˜ê²½**: ì˜¨í”„ë ˆë¯¸ìŠ¤ K8s vs Docker Swarm vs ë‹¨ì¼ ì„œë²„?

